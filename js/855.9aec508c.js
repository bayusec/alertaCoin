"use strict";(self["webpackChunkalerta_coin"]=self["webpackChunkalerta_coin"]||[]).push([[855],{6855:function(t,e,i){i.r(e),i.d(e,{default:function(){return Y}});var n=i(3396),a=i(9242),c=i(7139);const o={class:"container mt-5"},s={class:"text-bg-dark p-4 rounded"},r=(0,n._)("h2",null,"Configurar alerta de precios por monedas",-1),l={key:0,class:"form-check form-switch mt-4"},u=(0,n._)("label",{class:"form-check-label",for:"switchNotification"},"Habilitar Notificaciones de Navegador",-1),m={class:"row justify-content-center mt-3"},h={class:"card col-lg-4 m-3",style:{width:"18rem"}},d={class:"card-header"},f={class:"list-group list-group-flush"},p={class:"list-group-item container"},w={class:"row"},g={class:"row mt-2"},k={class:"col-12"},_=(0,n.Uk)("Min:"),v=["value"],C={class:"col-12"},P=(0,n.Uk)("Max:"),b=["value"],y={class:"row my-3 justify-content-center"},N=["onClick"];function x(t,e,i,x,M,D){const S=(0,n.up)("PriceComponent");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[r,M.switchState?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",l,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"switchNotification","onUpdate:modelValue":e[0]||(e[0]=t=>M.switchState=t),onChange:e[1]||(e[1]=(...t)=>D.toggleNotification&&D.toggleNotification(...t))},null,544),[[a.e8,M.switchState]]),u]))]),t.watchCoins.length>0?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(D.arrayChunk(t.watchCoins,3),((t,e)=>((0,n.wg)(),(0,n.iD)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(t=>((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",d,(0,c.zw)(t.name),1),(0,n._)("ul",f,[(0,n._)("li",p,[(0,n._)("div",w,[(0,n.Wm)(S,{coin:t.name},null,8,["coin"])]),(0,n._)("div",g,[(0,n._)("span",k,[_,(0,n._)("input",{ref_for:!0,ref:t.name+"_min",class:"form-control col-auto",type:"number",min:"0",value:t.minPrice},null,8,v)]),(0,n._)("span",C,[P,(0,n._)("input",{ref_for:!0,ref:t.name+"_max",class:"form-control col-auto",type:"number",min:"0",value:t.maxPrice},null,8,b)])]),(0,n._)("div",y,[(0,n.Uk)((0,c.zw)(t.min_price)+" ",1),(0,n._)("button",{onClick:e=>D.saveMinMax(t.name),class:"col-auto btn btn-warning btn-sm"},"Crear Alerta ",8,N)])])])])))),256))])))),256)):(0,n.kq)("",!0)])}var M=i(65);const D={class:"col-12"},S=(0,n.Uk)("Current Price: "),U=(0,n._)("span",{class:"ms-3"},null,-1);function A(t,e,i,a,o,s){return(0,n.wg)(),(0,n.iD)("span",D,[S,U,(0,n.Uk)((0,c.zw)(s.getPrice),1)])}var q={name:"PriceComponent",props:{coin:String},computed:{...(0,M.rn)("Monedas",["watchCoins"]),getPrice(){return this.watchCoins.find((t=>t.name==this.coin)).price}}},z=i(89);const H=(0,z.Z)(q,[["render",A]]);var $=H,j={name:"Alertas",data(){return{switchState:!1}},components:{PriceComponent:$},mounted(){this.checkNotificacionPermission()},computed:{...(0,M.rn)("Monedas",["watchCoins"])},methods:{addAlert(t){this.$store.dispatch("Monedas/addAlertToCoin",t)},toggleNotification(t){this.checkNotificacionPermission()},checkNotificacionPermission(){try{Notification.requestPermission().then((t=>{"granted"==t&&(this.switchState=!0)}))}catch(t){this.switchState=!1}},arrayChunk(t,e){let i=[];for(let n=0;n<t.length;n+=e){const a=t.slice(n,n+e);i.push(a)}return i},saveMinMax(t){const e=this.$refs[t+"_min"][0].value,i=this.$refs[t+"_max"][0].value;this.addAlert({name:t,minPrice:e,maxPrice:i})}}};const K=(0,z.Z)(j,[["render",x]]);var Y=K}}]);
//# sourceMappingURL=855.9aec508c.js.map